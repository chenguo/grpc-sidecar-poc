FROM node:14

RUN mkdir -p /opt/ts-service
WORKDIR /opt/ts-service

ADD package.json .
ADD package-lock.json .
ADD tsconfig.json .

COPY proto/ ./proto
COPY app/ ./app

RUN npm ci
